<!DOCTYPE html>
<html>

<!--

  Logor is a project I'm working on that generates logos for you. It's currently free to use and will remain so until I'm done with it, at which point I'll decide whether to keep it up for free. If not, don't fret - it'll be much more feature-rich than it is at the moment. But for now, enjoy!

  Pwease no steaw my souwce codes owo
  
-->

<head>
    <title>Logor</title>
    <link href="https://fonts.googleapis.com/css?family=Acme|Anonymous+Pro|Archivo+Black|Cairo|Fjalla+One|Major+Mono+Display|Nova+Mono|Overpass|Paytone+One|Ubuntu&display=swap" rel="stylesheet">
    <style>
        canvas {
            border: 2px solid black;
            padding: 5px;
        }
        input, select, button {
            margin-top: .5vh;
        }
        input, select, button, label, a {
            font-size: 1.2vw;
            padding: .4vw .7vw;
            display: inline-block;
        }
        label {
            position: relative;
            top: .5vh
        }

        h1 {
            font-size: 3vw;
            margin: 0;
        }

        p {
            font-size: 1.2vw;
            margin: 0;
            margin-top: .5vh;
            width: 50vw;
            text-align: justify;
        }
    </style>
</head>

<body>
    <canvas id="logo" width="200" height="200">
        <p>Your browser doesn't support the canvas tag!</p>
    </canvas>
    <br>
    <input type="text" id="textinput" onkeyup="redrawAll()" value="TEXT">
    <br>
    <select id="fontselect" onchange="redrawAll()">
        <option selected value="Major Mono Display">Major Mono Display</option>
        <option value="Nova Mono">Nova Mono</option>
        <option value="Cairo">Cairo</option>
        <option value="Acme">Acme</option>
        <option value="Anonymous Pro">Anonymous Pro</option>
        <option value="Archivo Black">Archivo Black</option>
        <option value="Fjalla One">Fjalla One</option>
        <option value="Overpass">Overpass</option>
        <option value="Ubuntu">Ubuntu</option>
        <option value="Paytone One">Paytone One</option>
    </select>
    <br>
    <select id="boldselect" onchange="redrawAll()">
        <option selected value="true">Bold</option>">
        <option value="false">Regular</option>
    </select>
    <br><br>
    <input type="color" id="fgcolor" name="fg" value="#81b29a" onchange="redrawAll()">
    <label for="fg">Foreground color</label>
    <br>
    <input type="color" id="bgcolor" name="bg" value="#3d405b" onchange="redrawAll()">
    <label for="bg">Background color</label>
    <br><br>
    <button onclick="redrawAll()" href="#" title="Click me if something hasn't updated properly!">Refresh</button>
    <button onclick="downloadImage()" href="#" title="Download the logo as a PNG file">Download</button>
    <script>
    let canvas = document.getElementById("logo");
    var ctx = canvas.getContext("2d");
    let lw;
    let lh;
    let fh;
    let font = "Major Mono Display";
    let bold = true;
    let text = "TEXT";
    let bg;
    let fg;

    let redraw = function(lw, lh, fh, font, bold, text, bg, fg) {
        // width, height, font height, etc
        canvas.width = lw;
        canvas.height = lh;
        ctx.textAlign = 'center';
        if (text.length == 1) {
            fh *= .5;
        }
        ctx.fillStyle = bg;
        ctx.fillRect(0, 0, lw, lh);
        ctx.fillStyle = fg;
        ctx.font = "normal " + (bold ? "bold " : "") + (fh / text.length).toString() + "px " + font;
        ctx.fillText(text, lw / 2, lh / 2 + (fh / (text.length * 2.8)));
    }

    let redrawAll = function() {
        lw = 500; // placeholder
        lh = 500; // placeholder
        fh = 500; // placeholder
        bg = document.querySelector('#bgcolor').value;
        fg = document.querySelector('#fgcolor').value;
        font = document.querySelector('#fontselect').value;
        bold = document.querySelector('#boldselect').value == "true";
        text = document.querySelector('#textinput').value;
        redraw(lw, lh, fh, font, bold, text, bg, fg);
    }

    let downloadImage = function() {
        var link = document.createElement('a');
        link.download = text + ".png";
        link.href = canvas.toDataURL()
        link.click();
    }

    redrawAll();
    </script>
</body>

</html>